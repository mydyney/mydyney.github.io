{{ define "main" }}
<!-- Hero Section from _index.md content -->
{{ if .Content }}
<article class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links {{ $.Param " text_color" |
  compare.Default "mid-gray" }}">
  {{ .Content }}
</article>
{{ end }}

<!-- Blog Posts Grid -->
<article class="pa0 nested-copy-line-height">
  <section class="blog-grid ph3 ph5-l">
    {{ range .Paginator.Pages }}
    {{ .Render "summary" }}
    {{ end }}
  </section>

  <!-- Pagination -->
  {{- template "_internal/pagination.html" . -}}
</article>

<!-- Custom Grid Styles -->
<style>
  .blog-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 32px;
    margin-top: 0;
    margin-bottom: 3rem;
  }

  @media (max-width: 768px) {
    .blog-grid {
      grid-template-columns: 1fr;
      gap: 24px;
      margin-top: 2rem;
      margin-bottom: 2rem;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    .blog-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1400px) {
    .blog-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
{{ end }}